{% extends "base.html" %}
{% load static %}
{% load widget_tweaks %}

{% block content %}
<!--
<h1>Geschichtswettbewerb</h1>

<p>Der Geschichtswettbewerb des Bundespräsidenten ist der größte historische Forschungswettbewerb für junge Menschen in Deutschland. Seit 1973 sind rund 33.500 Beiträge vor allem von Schülerinnen und Schülern entstanden. Der Wettbewerb will bei Kindern und Jugendlichen unter 21 Jahren das Interesse für die eigene Geschichte wecken, selbständiges Lernen und Forschen fördern sowie gesellschaftliches Verantwortungsbewusstsein stärken. Ausgeschrieben wird der Geschichtswettbewerb zu wechselnden Themen in einem zweijährigen Turnus durch die Körber-Stiftung (www.koerber-stiftung.de/geschichtswettbewerb). Besonders gelungene Beiträge werden durch Landes- und Bundespreise prämiert.</p>
<h1>Münsters besondere Leistungen</h1>
<p>In keiner anderen Stadt haben seit 1973 so viele Kinder und Jugendliche am Geschichtswettbewerb des Bundespräsidenten teilgenommen wie in Münster. In den letzten knapp 50 Jahren entstanden an die 1700 Arbeiten, die historische Themen für die Stadtgeschichte auch neu erschlossen haben. Gemeinsam mit dem Stadtarchiv Münster hat das Institut der Didaktik der Geschichte an der Uni Münster diese Forschungsbeiträge vollständig erfasst. Diese Datensammlung enthält unter anderem Angaben zu Autoren, Inhalten, Ortsbezügen oder Auszeichnungen und ist bundesweit einzigartig. Während des Münsterhacks 2020 entstanden hieraus ein strukturiertes Datenmodell und darauf aufbauend eine Datenbankanwendung. Deren Nutzungsmöglichkeiten für die Geschichtslandschaft in Münster sind vielfältig: Sie ermöglicht Überblicke über Themen, untersuchte Orte oder Fragestellungen aller im Stadtarchiv analog gesammelten und einsehbaren Schülerbeiträge. Darüber hinaus kann sie Zusammenhänge zwischen den Beitragsformaten, Vorgehensweisen der Verfasserinnen und Verfasser und möglichen Auszeichnungen darstellen. Damit werden die Daten auch für die universitäre Forschung über Geschichte und schulisches Geschichtslernen interessant.</p>

-->
{% endblock %}

{% block map %}

<head>
  <title>Markers Map</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" type="text/css" href="{% static 'map.css' %}">
  <link rel="stylesheet" type="text/css" href="{% static 'startseite.css' %}">
  <link rel="stylesheet" type="text/css" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css">
  <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
  <!--<script src="{% static 'leaflet.markercluster.js' %}"></script>-->
</head>
<body>

  <h1>Stadtgeschichte für die Zukunft: Schülerforschungen aus Münster</h1>
  <p>Auf der Karte sind alle Orte markiert, zu denen Beiträge geschrieben wurden.</p><body>
    <div id="map"></div>
    {{ markers|json_script:"markers-data" }}
    <script src="{% static 'map.js' %}"></script>

  <div class="start-filter">
    <form method="get">
       <div class="well">
         <div class="left-container">
           {% render_field filter.form.everything class="form-control" placeholder="Suche in über 1700 Schülerarbeiten..." %}
          <div class="left-container-buttons">
           <button type="submit" class="btn btn-primary" name="submitted">
             <span class="glyphicon glyphicon-search"></span> Suche
           </button>
           <span>Oder gehe zur </span>
           <a class='btn btn-primary' href="{% url 'karte:beitraege' %}"target="_blank" class="button">Detailsuche</a>
         </div>
         </div>
         <div  class="right-container">
           <div class="upper">
             {% render_field filter.form.wettbewerb class="form-control" placeholder="Wettbewerbsjahrgang" %}
           </div>
           <div class="lower">
             {% render_field filter.form.zeitraumVon__gt class="form-control" placeholder="Zeitraum von" %}
             {% render_field filter.form.zeitraumBis__lt class="form-control" placeholder="Zeitraum bis" %}
           </div>
         </div>
       </div>
     </form>


     <div style="height:  500px; overflow: auto;">
       {% if filter.is_bound %}

     {% for beitrag in filter.qs %}
      <div class="resultDivTitle">
        {{ beitrag.signatur }}  - {{ beitrag.titel }}
      </div>
      <div class="resultDivInformation">
        <div>{% for autor in beitrag.autorin_set.all %}
          {{ autor }}, {% for x in autor.autorinschule_set.all %}
            {% if x.jahrgangsstufe != None %}
              JG:{{ x.jahrgangsstufe }},
            {% endif %}
            {% endfor %}
            {% for y in autor.schule.all %}
              {{ y.schule }},
            {% endfor %}<!--{{ autor.schule.all|join:", "}}-->
        {% endfor %}</div>
        <div>{{ beitrag.typ.all|join:", " }},  {{ beitrag.umfang }}</div>
        <div>{% for w in beitrag.wettbewerb.all %} {{ w.jahr }} {% endfor %}</div>
        <div><a href="{% url 'karte:submission-detail' pk=beitrag.id %}"target="_blank">Detailansicht</a></div>
      </div>
     {% empty %}

     {% endfor %}
     {% endif %}
</div>
</div>

</body>

{% endblock %}

{% block filter %}

{% endblock %}
